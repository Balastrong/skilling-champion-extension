(()=>{var t=document.querySelector("#btnAdd"),o=document.querySelector("#btnRemove"),e=document.querySelector("#list"),n=document.querySelector("#name"),c=document.querySelector("#error");function r(){var t=Object.keys(e.options).map((function(t){return e.options[t].value}));chrome.storage.sync.set({list:t},(function(){})),function(t){if(chrome.contextMenus.removeAll(),!(t.length<1)){var o=t.length>1?"docslearnchampion":t[0];chrome.contextMenus.create({title:"Copy link address with CreatorID",id:o,documentUrlPatterns:["http://social.technet.microsoft.com/*","https://docs.microsoft.com/*","https://azure.microsoft.com/*","https://techcommunity.microsoft.com/*","https://social.msdn.microsoft.com/*","https://devblogs.microsoft.com/*","https://developer.microsoft.com/*","https://channel9.msdn.com/*","https://gallery.technet.microsoft.com/*","https://cloudblogs.microsoft.com/*","https://technet.microsoft.com/*","https://docs.azure.cn/*","https://www.azure.cn/*","https://msdn.microsoft.com/*","https://blogs.msdn.microsoft.com/*","https://blogs.technet.microsoft.com/*","https://microsoft.com/handsonlabs/*"],contexts:["link"]}),t.length>1&&t.forEach((function(t){console.log("creator",t),chrome.contextMenus.create({title:t,id:t,parentId:o,contexts:["link"]})}))}}(t)}t.onclick=function(t){t.preventDefault();var o=function(t){return t.replace("?WT.mc_id=","").trim()}(n.value);if(Object.keys(e.options).map((function(t){return e.options[t].value})).includes(o))return c.textContent="CreatorId already exists",setTimeout((function(){c.textContent=""}),2e3),void n.focus();var s=new Option(o,o);e.add(s,void 0),r(),n.value="",n.focus()},o.onclick=function(t){t.preventDefault();for(var o=[],n=0;n<e.options.length;n++)o[n]=e.options[n].selected;for(var c=e.options.length;c--;)o[c]&&e.remove(c);r()},document.addEventListener("DOMContentLoaded",(function(){chrome.storage.sync.get({list:[]},(function(t){t.list.forEach((function(t){var o=new Option(t,t);e.add(o,void 0)}))}))}))})();